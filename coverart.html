<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500&display=swap" rel="stylesheet">
  <title>Cover Art</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background-color: #fff;
      color: #171516;
    }
    header {
      background-color: #171516;
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 2rem;
      max-width: 1000px;
      margin: 0 auto;
    }
    .nav-center {
      display: flex;
      gap: 2rem;
      justify-content: center;
      flex-grow: 1;
      text-align: center;
    }
    .nav-cart {
      margin-left: auto;
      padding-left: 2rem;
    }
    nav a {
      color: #f1e9e3;
      text-decoration: none;
      font-weight: normal;
      font-size: 1rem;
    }
    .product-page {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 2rem;
      display: flex;
      gap: 2rem;
      align-items: flex-start;
    }
    .product-image {
      cursor: zoom-in;
      width: 325px;
    }
    .product-info {
      flex: 1;
    }
    .product-info h1 {
      font-family: 'Cinzel', serif;
      margin-bottom: 0.5rem;
    }
    .product-info p {
      line-height: 1.5;
    }
    .price {
      margin: 1rem 0;
    }
    .button-group button {
      background-color: #D98F59;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      margin: 0.25rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }
    .zoom-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    .zoom-overlay img {
      max-width: 90%;
      max-height: 90%;
      cursor: zoom-out;
    }
  </style>
</head>
<body>
  <header>
    <img src="images/githubwebsitebanner02.jpg" alt="Header Banner" style="max-width: 100%; height: auto;">
    <nav>
      <div class="nav-center">
        <a href="shop.html">All Products</a>
        <a href="about.html">About Me</a>
        <a href="cart.html">Cart</a>
      </div>
    </nav>
  </header>

  <main class="product-page">
    <img id="main-image" src="images/coverart.jpg" alt="Cover Art" class="product-image" onclick="zoomImage()">
    <div class="product-info">
      <h1>Cover Art</h1>
      <div>
        <label><input type="radio" name="size" value="15" checked onchange="updatePrice()"> 6x9 Print ($15)</label><br>
        <label><input type="radio" name="size" value="17" onchange="updatePrice()"> 8.5x11 Print ($17)</label>
      </div>
      <div class="price" id="price">$15</div>
      <div class="button-group" id="cart-buttons">
        <button onclick="addToCart()">Add to Cart</button>
      </div>
      <p style="margin-top: 1.5rem">High quality print from the illustrated book. Shipping included for most orders.</p>
    </div>
  </main>

  <div id="zoomContainer" class="zoom-overlay" style="display: none;" onclick="closeZoom()">
    <img src="images/coverart.jpg" alt="Zoomed Cover Art">
  </div>

  <script>
    let quantity = 0;
    const productId = 'coverart';

    function updatePrice() {
      const value = document.querySelector('input[name="size"]:checked').value;
      document.getElementById('price').innerText = `$${value}`;
      if (quantity > 0) updateCartDisplay();
    }

    function addToCart() {
      quantity = 1;
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      cart[productId] = quantity;
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
    }

    function incrementCart() {
      quantity++;
      updateStorage();
    }

    function decrementCart() {
      quantity--;
      if (quantity <= 0) {
        quantity = 0;
        const cart = JSON.parse(localStorage.getItem('cart')) || {};
        delete cart[productId];
        localStorage.setItem('cart', JSON.stringify(cart));
        document.getElementById('cart-buttons').innerHTML = '<button onclick="addToCart()">Add to Cart</button>';
        return;
      }
      updateStorage();
    }

    function updateStorage() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      cart[productId] = quantity;
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
    }

    function updateCartDisplay() {
      const selectedPrice = document.querySelector('input[name="size"]:checked').value;
      document.getElementById('price').innerText = `$${selectedPrice}`;
      document.getElementById('cart-buttons').innerHTML = `
        <button onclick="decrementCart()">-</button>
        <span style="padding: 0.5rem 1rem">${quantity} in cart</span>
        <button onclick="incrementCart()">+</button>
      `;
    }

    function zoomImage() {
      document.getElementById('zoomContainer').style.display = 'flex';
    }

    function closeZoom() {
      document.getElementById('zoomContainer').style.display = 'none';
    }

    // Load existing cart quantity if already added
    document.addEventListener('DOMContentLoaded', () => {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      if (cart[productId]) {
        quantity = cart[productId];
        updateCartDisplay();
      }
    });
  </script>
</body>
</html>
