<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500&display=swap" rel="stylesheet">
  <title>Cover Art</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background-color: #fff;
      color: #171516;
    }
    header {
      background-color: #171516;
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 2rem;
      max-width: 1000px;
      margin: 0 auto;
    }
    .nav-center {
      display: flex;
      gap: 2rem;
      justify-content: center;
      flex-grow: 1;
      text-align: center;
    }
    .nav-cart {
      margin-left: auto;
      padding-left: 2rem;
    }
    nav a {
      color: #f1e9e3;
      text-decoration: none;
      font-weight: normal;
      font-size: 1rem;
    }
    .product-section {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    .product-top {
      display: flex;
      flex-direction: row;
      gap: 2rem;
    }
    .product-top img {
      width: 325px;
      cursor: zoom-in;
      border-radius: 0.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    }
    .product-details {
      flex: 1;
    }
    .product-details h1 {
      font-family: 'Cinzel', serif;
      margin-bottom: 0.25rem;
    }
    .product-details p.price {
      font-size: 1.25rem;
      margin: 0.5rem 0;
    }
    .size-buttons button {
      margin-right: 1rem;
      background: none;
      border: 1px solid #D98F59;
      color: #D98F59;
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-radius: 0.25rem;
    }
    .cart-controls {
      margin-top: 1rem;
      background-color: #D98F59;
      padding: 0.5rem 1rem;
      color: white;
      border-radius: 0.5rem;
      display: inline-flex;
      align-items: center;
      gap: 1rem;
    }
    .cart-controls span {
      background-color: #D98F59;
    }
    .cart-controls button {
      background: none;
      border: none;
      color: white;
      font-size: 1rem;
      cursor: pointer;
    }
    .zoom-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .zoom-overlay img {
      max-width: 90vw;
      max-height: 90vh;
      cursor: zoom-out;
    }
    .policy-section {
      display: flex;
      justify-content: space-between;
      gap: 2rem;
      padding: 2rem 0;
      border-top: 1px solid #eee;
      font-size: 0.9rem;
    }
    .policy-section div h3 {
      font-family: 'Cinzel', serif;
      margin-bottom: 0.5rem;
    }
    @media (max-width: 768px) {
      .product-top {
        flex-direction: column;
        align-items: center;
      }
      .policy-section {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <header>
    <img src="images/githubwebsitebanner02.jpg" alt="Header Banner" style="max-width: 100%; height: auto;">
    <nav>
      <div class="nav-center">
        <a href="shop.html">All Products</a>
        <a href="about.html">About Me</a>
      </div>
      <div class="nav-cart">
        <a href="cart.html" class="cart-link">Cart<span id="cart-count"></span></a>
      </div>
    </nav>
  </header>

  <section class="product-section">
    <div class="product-top">
      <img src="images/coverart.jpg" alt="Cover Art" id="zoom-img" />
      <div class="product-details">
        <h1>Cover Art</h1>
        <p class="price" id="price">$15</p>
        <p>This is where the description of the print will go. High quality print from the illustrated book. Printed on blabla paper, super cool drawing, etc. "Caption from the book where the illustration is found"</p>
        <div class="size-buttons">
          <button onclick="selectSize('6x9')">6x9</button>
          <button onclick="selectSize('8.5x11')">8.5x11</button>
        </div>
        <div id="cart-controls-wrapper"></div>
      </div>
    </div>
    <div class="policy-section">
      <div>
        <h3>Shipping Policy:</h3>
        <p>Please allow 5-7 business days for production of your fine art print. Orders typically arrive in 5-7 business days after they have been shipped. All prints are printed in the United States and shipped in a sturdy mailer via USPS.</p>
      </div>
      <div>
        <h3>Return Policy:</h3>
        <p>All sales are final, however, if there are any concerns with your order please contact the shop within 48 hours of receiving your goods so we can find a solution.</p>
      </div>
    </div>
  </section>

  <script>
    let selectedSize = '6x9';

function selectSize(size) {
  selectedSize = size;
  localStorage.setItem('selectedSize', selectedSize);
  const priceElement = document.getElementById('price');
  priceElement.textContent = size === '8.5x11' ? '$17' : '$15';
  renderCartControls(); // re-render with correct size
}


    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const count = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
      document.getElementById('cart-count').textContent = count > 0 ? `(${count})` : '';
    }

function renderCartControls() {
  const cart = JSON.parse(localStorage.getItem('cart')) || {};
  const id = `coverart-${selectedSize}`;
  quantity = cart[id] || 0;

  const container = document.getElementById('cart-controls');
  if (quantity === 0) {
    container.innerHTML = `<button onclick="addToCart()">Add to Cart</button>`;
  } else {
    container.innerHTML = `
      <button onclick="decreaseQty()">-</button>
      <span>${quantity} in cart</span>
      <button onclick="increaseQty()">+</button>
    `;
  }
}


    function addToCart() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const id = `coverart-${selectedSize}`;
      cart[id] = (cart[id] || 0) + 1;
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      renderCartControls();
    }

    function increaseQty() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const id = `coverart-${selectedSize}`;
      cart[id]++;
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      renderCartControls();
    }

    function decreaseQty() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const id = `coverart-${selectedSize}`;
      cart[id] = Math.max(0, (cart[id] || 0) - 1);
      if (cart[id] === 0) delete cart[id];
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      renderCartControls();
    }

    document.getElementById('zoom-img').addEventListener('click', () => {
      const overlay = document.createElement('div');
      overlay.className = 'zoom-overlay';
      overlay.innerHTML = `<img src="images/coverart.jpg" alt="Zoomed" />`;
      overlay.onclick = () => document.body.removeChild(overlay);
      document.body.appendChild(overlay);
    });

document.addEventListener('DOMContentLoaded', () => {
  selectedSize = localStorage.getItem('selectedSize') || '6x9';
  selectSize(selectedSize); // also sets price + rerenders controls
  updateCartCount();
});

  </script>
</body>
</html>
