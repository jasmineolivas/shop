<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <title>Cover Art</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background-color: #fff;
      color: #171516;
    }
    header {
      background-color: #171516;
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 2rem;
      max-width: 1000px;
      margin: 0 auto;
    }
    .nav-center {
      display: flex;
      gap: 2rem;
      justify-content: center;
      flex-grow: 1;
      text-align: center;
    }
    .nav-cart {
      margin-left: auto;
      padding-left: 2rem;
    }
    nav a {
      color: #f1e9e3;
      text-decoration: none;
      font-weight: normal;
      font-size: 1rem;
    }
    .product-container {
      display: flex;
      flex-direction: row;
      gap: 2rem;
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem;
      flex-wrap: wrap;
      align-items: flex-start;
    }
    .product-image {
      width: 325px;
      cursor: zoom-in;
    }
    .product-details {
      max-width: 600px;
    }
    .product-details h1 {
      font-family: 'Cinzel', serif;
      margin-bottom: 0.5rem;
    }
    .product-price {
      font-size: 1.25rem;
      margin-bottom: 1rem;
    }
    .product-description {
      line-height: 1.5;
      margin-bottom: 1rem;
    }
    .size-buttons button {
      background: #f1e9e3;
      border: none;
      padding: 0.5rem 1rem;
      margin-right: 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
    .cart-controls {
      margin-top: 1rem;
    }
    .cart-controls button {
      background-color: #D98F59;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      margin: 0 0.25rem;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 0.25rem;
    }
    .cart-controls span {
      background-color: #D98F59;
      padding: 0.5rem 1rem;
      color: white;
      border-radius: 0.25rem;
    }
    .zoom-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .zoom-overlay img {
      max-width: 90%;
      max-height: 90%;
      cursor: zoom-out;
    }
    .policies {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    .policies h2 {
      font-family: 'Cinzel', serif;
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }
    @media (max-width: 700px) {
      .product-container {
        flex-direction: column;
        align-items: center;
      }
      .policies {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
<header>
  <img src="images/githubwebsitebanner02.jpg" alt="Header Banner" style="max-width: 100%; height: auto;">
  <nav>
    <div class="nav-center">
      <a href="shop.html">All Products</a>
      <a href="about.html">About Me</a>
    </div>
    <div class="nav-cart">
      <a href="cart.html" class="cart-link">Cart<span id="cart-count"></span></a>
    </div>
  </nav>
</header>

<section class="product-container">
  <img class="product-image" src="images/coverart.jpg" alt="Cover Art" id="mainImage" />
  <div class="product-details">
    <h1>Cover Art</h1>
    <div class="product-price" id="price">$15</div>
    <div class="product-description">
      This is where the description of the print will go. High quality print from the illustrated book. Printed on blabla paper, super cool drawing, etc. "Caption from the book where the illustration is found."
    </div>
    <div class="size-buttons">
      <button onclick="setSize('6x9')">6x9</button>
      <button onclick="setSize('8.5x11')">8.5x11</button>
    </div>
    <div class="cart-controls" id="cartControls">
      <button onclick="addToCart()">Add to Cart</button>
    </div>
  </div>
</section>

<section class="policies">
  <div>
    <h2>Shipping Policy</h2>
    <p>Please allow 5-7 business days for production of your fine art print. Orders typically arrive in 5-7 business days after they have been shipped. All prints are printed in the United States and shipped in a sturdy mailer via USPS.</p>
  </div>
  <div>
    <h2>Return Policy</h2>
    <p>All sales are final, however, if there are any concerns with your order please contact the shop within 48 hours of receiving your goods so we can find a solution.</p>
  </div>
</section>

<script>
  const productId = 'coverart';
  let currentSize = '6x9';
  const prices = { '6x9': 15, '8.5x11': 17 };
  let cart = JSON.parse(localStorage.getItem('cart')) || {};

  function updatePrice() {
    document.getElementById('price').textContent = `$${prices[currentSize]}`;
  }

  function setSize(size) {
    currentSize = size;
    updatePrice();
  }

  function addToCart() {
    const key = `${productId}-${currentSize}`;
    cart[key] = (cart[key] || 0) + 1;
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCartControls();
  }

  function updateQty(amount) {
    const key = `${productId}-${currentSize}`;
    cart[key] = Math.max(0, (cart[key] || 0) + amount);
    if (cart[key] === 0) delete cart[key];
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCartControls();
  }

  function renderCartControls() {
    const key = `${productId}-${currentSize}`;
    const container = document.getElementById('cartControls');
    if (cart[key]) {
      container.innerHTML = `
        <button onclick="updateQty(-1)">-</button>
        <span>${cart[key]} in cart</span>
        <button onclick="updateQty(1)">+</button>
      `;
    } else {
      container.innerHTML = `<button onclick="addToCart()">Add to Cart</button>`;
    }
  }

  function renderCartBadge() {
    const count = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
    const badge = document.querySelector('#cart-count');
    if (badge && count > 0) {
      badge.style.display = 'inline-block';
      badge.style.background = 'orange';
      badge.style.width = '0.75rem';
      badge.style.height = '0.75rem';
      badge.style.borderRadius = '50%';
      badge.style.marginLeft = '0.5rem';
      badge.textContent = '';
    } else if (badge) {
      badge.style.display = 'none';
    }
  }

  renderCartControls();
  renderCartBadge();
  updatePrice();

  document.getElementById('mainImage').addEventListener('click', () => {
    const overlay = document.createElement('div');
    overlay.className = 'zoom-overlay';
    overlay.innerHTML = `<img src="images/coverart.jpg" alt="Zoomed Cover Art">`;
    overlay.addEventListener('click', () => document.body.removeChild(overlay));
    document.body.appendChild(overlay);
  });
</script>
</body>
</html>
