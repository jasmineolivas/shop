<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cover Art</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background-color: #fff;
      color: #171516;
    }
    header {
      background-color: #171516;
      color: white;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 2rem;
      max-width: 1000px;
      width: 100%;
    }
    .nav-center {
      display: flex;
      gap: 2rem;
    }
    .nav-cart {
      margin-left: auto;
    }
    nav a {
      color: #f1e9e3;
      text-decoration: none;
      font-weight: normal;
      font-size: 1rem;
    }
    .product-container {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
    }
    .product-image {
      flex: 1 1 325px;
      cursor: zoom-in;
    }
    .product-image img {
      width: 325px;
      height: auto;
      border-radius: 0.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    }
    .product-details {
      flex: 2 1 400px;
    }
    .product-details h1 {
      font-family: 'Cinzel', serif;
      margin-bottom: 0.5rem;
    }
    .product-details .price {
      font-size: 1.25rem;
      font-weight: bold;
      margin-bottom: 1rem;
    }
    .size-buttons button {
      background-color: transparent;
      border: 1px solid #D98F59;
      color: #D98F59;
      padding: 0.5rem 1rem;
      margin-right: 1rem;
      cursor: pointer;
      border-radius: 0.5rem;
    }
    .size-buttons button.active {
      background-color: #D98F59;
      color: white;
    }
    .cart-controls {
      background-color: #D98F59;
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      color: white;
      margin-top: 1rem;
      max-width: 200px;
    }
    .cart-controls button {
      background: none;
      border: none;
      color: white;
      font-size: 1.25rem;
      cursor: pointer;
    }
    .zoom-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    .zoom-overlay img {
      max-width: 90%;
      max-height: 90%;
    }
    .zoom-overlay span {
      position: absolute;
      top: 2rem;
      right: 2rem;
      color: white;
      font-size: 2rem;
      cursor: zoom-out;
    }
    .policies {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin: 3rem auto;
      max-width: 1000px;
      padding: 0 1rem;
    }
    .policies div {
      flex: 1;
    }
    .policies h2 {
      font-family: 'Cinzel', serif;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }
    .policies p {
      font-size: 0.9rem;
      line-height: 1.4;
    }
  </style>
</head>
<body>
  <header>
    <img src="images/githubwebsitebanner02.jpg" alt="Header Banner" style="max-width: 100%; height: auto;">
    <nav>
      <div class="nav-center">
        <a href="shop.html">All Products</a>
        <a href="about.html">About Me</a>
      </div>
      <div class="nav-cart">
        <a href="cart.html">Cart<span id="cart-count"></span></a>
      </div>
    </nav>
  </header>

  <main class="product-container">
    <div class="product-image" onclick="openZoom()">
      <img src="images/coverart.jpg" alt="Cover Art">
    </div>
    <div class="product-details">
      <h1>Cover Art</h1>
      <div class="price" id="price">$15</div>
      <p>This is where the description of the print will go. High quality print from the illustrated book. Printed on blabla paper, super cool drawing, etc. "Caption from the book where the illustration is found"</p>
      <div class="size-buttons">
        <button onclick="setSize('6x9', 15)" class="active">6x9</button>
        <button onclick="setSize('8.5x11', 17)">8.5x11</button>
      </div>
      <div id="cart-action"></div>
    </div>
  </main>

  <div class="policies">
    <div>
      <h2>Shipping Policy</h2>
      <p>Please allow 5-7 business days for production of your fine art print. Orders typically arrive in 5-7 business days after they have been shipped. All prints are printed in the United States and shipped in a sturdy mailer via USPS.</p>
    </div>
    <div>
      <h2>Return Policy</h2>
      <p>All sales are final, however, if there are any concerns with your order please contact the shop within 48 hours of receiving your goods so we can find a solution.</p>
    </div>
  </div>

  <div class="zoom-overlay" id="zoom">
    <span onclick="closeZoom()">&minus;</span>
    <img src="images/coverart.jpg" alt="Zoomed Cover Art">
  </div>

  <script>
    let size = '6x9';
    let price = 15;

    function setSize(newSize, newPrice) {
      size = newSize;
      price = newPrice;
      document.getElementById('price').textContent = `$${newPrice}`;
      document.querySelectorAll('.size-buttons button').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }

    const cartAction = document.getElementById('cart-action');
    const cartKey = `coverart-${size}`;

    function updateCartDisplay() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const qty = cart[cartKey] || 0;
      if (qty > 0) {
        cartAction.innerHTML = `
          <div class="cart-controls">
            <button onclick="changeQty(-1)">-</button>
            <span>${qty} in cart</span>
            <button onclick="changeQty(1)">+</button>
          </div>
        `;
      } else {
        cartAction.innerHTML = `<button style="background:#D98F59;color:white;padding:0.75rem 1.5rem;border:none;border-radius:0.5rem;cursor:pointer;" onclick="addToCart()">Add to Cart</button>`;
      }
    }

    function addToCart() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const key = `coverart-${size}`;
      cart[key] = (cart[key] || 0) + 1;
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
      updateCartCount();
    }

    function changeQty(delta) {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const key = `coverart-${size}`;
      if (!cart[key]) return;
      cart[key] += delta;
      if (cart[key] <= 0) delete cart[key];
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
      updateCartCount();
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || {};
      const count = Object.values(cart).reduce((a, b) => a + b, 0);
      const badge = document.getElementById('cart-count');
      if (badge) {
        badge.textContent = count > 0 ? `(${count})` : '';
      }
    }

    function openZoom() {
      document.getElementById('zoom').style.display = 'flex';
    }

    function closeZoom() {
      document.getElementById('zoom').style.display = 'none';
    }

    document.addEventListener('DOMContentLoaded', () => {
      updateCartDisplay();
      updateCartCount();
    });
  </script>
</body>
</html>
