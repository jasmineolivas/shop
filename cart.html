<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your Cart</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background-color: #fff;
      color: #171516;
    }
    header {
      background-color: #171516;
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 2rem;
      max-width: 1000px;
      margin: 0 auto;
    }
    .nav-center {
      display: flex;
      gap: 2rem;
      justify-content: center;
      flex-grow: 1;
      text-align: center;
    }
    .nav-cart {
      margin-left: auto;
      padding-left: 2rem;
    }
    nav a {
      color: #f1e9e3;
      text-decoration: none;
      font-weight: normal;
      font-size: 1rem;
    }
    .quantity-btn {
      @apply px-2 py-1 border border-gray-300 hover:bg-gray-100;
    }
  </style>
</head>

<body>
<img src="images/githubwebsitebanner02.jpg" alt="Header Banner" style="width: 100%; display: block;">

<header>
  <nav>
    <div class="nav-center">
      <a href="shop.html">All Products</a>
      <a href="about.html">About Me</a>
    </div>
    <div class="nav-cart">
      <a href="cart.html" class="cart-link">Cart<span id="cart-count"></span></a>
    </div>
  </nav>

  </header>

  <div class="max-w-7xl mx-auto px-4 py-10 grid grid-cols-1 lg:grid-cols-3 gap-10">
    <!-- Cart Items -->
    <div class="lg:col-span-2 space-y-6">
      <h2 class="text-2xl font-semibold mb-4">Your Cart</h2>
      <div id="cart-container"></div>
    </div>

    <!-- Summary -->
    <div class="bg-white p-6 shadow rounded-lg sticky top-10 h-fit">
      <h3 class="text-xl font-semibold mb-4">Order Summary</h3>
      <div class="flex justify-between py-1">
        <span>Subtotal</span><span id="summary-subtotal">$0.00</span>
      </div>
<div class="flex justify-between py-1">
  <span>Shipping</span><span id="shipping-amount">Free</span>
</div>

      <div class="flex justify-between py-1">
        <span>Tax</span><span>Calculated at checkout</span>
      </div>
      <div class="border-t mt-4 pt-4 flex justify-between font-bold text-lg">
        <span>Total</span><span id="summary-total">$0.00</span>
      </div>
      <button class="w-full bg-black text-white mt-6 py-2 rounded hover:opacity-90">Checkout</button>
    </div>
    <p><em>*Shipping included for US based orders only. International shipping calculated at checkout.</em></p>

  </div>

<script>
const productData = {
  'coverart-6x9': { name: 'Cover Art (6x9)', price: 15, image: 'images/coverart.jpg' },
  'coverart-8.5x11': { name: 'Cover Art (8.5x11)', price: 17, image: 'images/coverart.jpg' },
  'illustration01-6x9': { name: 'Illustration 01 (6x9)', price: 15, image: 'images/illustration01.jpg' },
  'illustration01-8.5x11': { name: 'Illustration 01 (8.5x11)', price: 17, image: 'images/illustration01.jpg' },
  'illustration02-6x9': { name: 'Illustration 02 (6x9)', price: 15, image: 'images/illustration02.jpg' },
  'illustration02-8.5x11': { name: 'Illustration 02 (8.5x11)', price: 17, image: 'images/illustration02.jpg' },
  'illustration03-6x9': { name: 'Illustration 03 (6x9)', price: 15, image: 'images/illustration03.jpg' },
  'illustration03-8.5x11': { name: 'Illustration 03 (8.5x11)', price: 17, image: 'images/illustration03.jpg' },
  'illustration04-6x9': { name: 'Illustration 04 (6x9)', price: 15, image: 'images/illustration04.jpg' },
  'illustration04-8.5x11': { name: 'Illustration 04 (8.5x11)', price: 17, image: 'images/illustration04.jpg' },
  'illustration05-6x9': { name: 'Illustration 05 (6x9)', price: 15, image: 'images/illustration05.jpg' },
  'illustration05-8.5x11': { name: 'Illustration 05 (8.5x11)', price: 17, image: 'images/illustration05.jpg' },
'booktitle-paperback': { name: 'Book Title', price: 15, image: 'images/booktitle.jpg' },
'booktitle-special1': { name: 'Book Title + Special1', price: 17, image: 'images/booktitlespecial1.jpg' },
'booktitle-special2': { name: 'Book Title + Special2', price: 18, image: 'images/booktitlespecial2.jpg' },
'booktitle-special3': { name: 'Book Title + Special3', price: 20, image: 'images/booktitlespecial3.jpg' }

};

function updateCartCount() {
  const cart = JSON.parse(localStorage.getItem('cart')) || {};
  const count = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
  const badge = document.getElementById('cart-count');
  if (count > 0) {
    badge.style.display = 'inline-block';
    badge.style.background = '#D98F59';
    badge.style.width = '0.75rem';
    badge.style.height = '0.75rem';
    badge.style.borderRadius = '50%';
    badge.style.marginLeft = '0.5rem';
    badge.textContent = '';
  } else {
    badge.style.display = 'none';
  }
}

function renderCart() {
  const cart = JSON.parse(localStorage.getItem('cart')) || {};
  const container = document.getElementById('cart-container');
  container.innerHTML = '';
  let subtotal = 0;
  let bookCount = 0;

  Object.entries(cart).forEach(([id, qty]) => {
    const item = productData[id];
    if (!item) return;
    const itemTotal = item.price * qty;
    subtotal += itemTotal;

    if (id === 'booktitle') {
      bookCount += qty;
    }

    const div = document.createElement('div');
    div.className = 'flex flex-col md:flex-row gap-4 items-start md:items-center border-b pb-4';
    div.innerHTML = `
      <img src="${item.image}" alt="${item.name}" class="w-32 h-auto border" />
      <div class="flex-1">
        <h3 class="text-lg font-medium">${item.name}</h3>
        <div class="flex items-center mt-2 space-x-2">
          <button class="quantity-btn" onclick="changeQty('${id}', -1)">-</button>
          <span class="px-3">${qty}</span>
          <button class="quantity-btn" onclick="changeQty('${id}', 1)">+</button>
          <button class="text-sm text-red-500 underline ml-4" onclick="removeItem('${id}')">Remove</button>
        </div>
      </div>
      <div class="text-right md:text-left font-medium">$${itemTotal.toFixed(2)}</div>
    `;
    container.appendChild(div);
  });

  if (subtotal === 0) {
    container.innerHTML = '<p>Your cart is empty.</p>';
  }

document.getElementById('shipping-amount').textContent = 
  shipping === 0 ? "Free" : `$${shipping.toFixed(2)}`;


  document.getElementById('summary-subtotal').textContent = `$${subtotal.toFixed(2)}`;
  document.getElementById('summary-shipping').textContent = `$${shippingCost.toFixed(2)}`;
  document.getElementById('summary-total').textContent = `$${total.toFixed(2)}`;
}

function changeQty(id, delta) {
  const cart = JSON.parse(localStorage.getItem('cart')) || {};
  cart[id] = Math.max(0, (cart[id] || 0) + delta);
  if (cart[id] === 0) delete cart[id];
  localStorage.setItem('cart', JSON.stringify(cart));
  renderCart();
  updateCartCount();
}

function removeItem(id) {
  const cart = JSON.parse(localStorage.getItem('cart')) || {};
  delete cart[id];
  localStorage.setItem('cart', JSON.stringify(cart));
  renderCart();
  updateCartCount();
}

document.addEventListener('DOMContentLoaded', () => {
  renderCart();
  updateCartCount();
});
</script>
</body>
</html>
